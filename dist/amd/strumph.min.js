/**
 * strumph.js - v0.1.0 
 * Copyright (c) 2013 UGLYMUNKY
 * 
 * Refactored from jQuery validate.password plug-in 1.0
 * Original Copyright (c) 2009 JÃ¶rn Zaefferer
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
define(["jquery"],function(a){"use strict";function b(a){return a.substring(0,1).toLowerCase()+a.substring(1)}function c(b){var d=a.extend({},c.defaults,b),e=a(d.target).html(d.template);this.$meter=a(d.meter,e),this.$message=a(d.message,e),this.messages=d.messages}var d=/[a-z]/,e=/[A-Z]/,f=/[0-9]/,g=/[0-9].*[0-9]/,h=/[^a-zA-Z0-9]/,i=/^(.)\1+$/;c.defaults={template:'<div class="strumph-meter"><div class="strumph-meter-message"></div><div class="strumph-meter-bg"><div class="strumph-meter-bar"></div></div></div>',meter:".strumph-meter",message:".strumph-meter-message",target:".strumph",messages:{"too-short":"Too short","very-weak":"Very weak",weak:"Weak",good:"Good",strong:"Strong"}},c.prototype.checkPassword=function(a){var b=this.rate(a);return this.updateMeter(b),b.rate>2},c.prototype.updateMeter=function(a){this.$meter.removeClass().addClass("strumph-meter").addClass("strumph-meter-"+a.messageKey),this.$message.text(this.messages[a.messageKey])},c.prototype.rating=function(a,b){return{rate:a,messageKey:b}},c.prototype.rate=function(a){if(!a||a.length<8)return this.rating(0,"too-short");if(i.test(a))return this.rating(1,"very-weak");var c=d.test(a),j=e.test(b(a)),k=f.test(a),l=g.test(a),m=h.test(a);return c&&j&&k||c&&l||j&&l||m?this.rating(4,"strong"):c&&j||c&&k||j&&k?this.rating(3,"good"):this.rating(2,"weak")}});